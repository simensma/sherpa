{% load i18n %}

<form action="{{ action }}{% if next %}?next={{ next }}{% endif %}" method="post" class="registration-nonmember form-default form-horizontal">
  {% csrf_token %}

  <p class="form-hints">
    {% trans "Vi trenger foreløpig ikke mer enn navn og e-postadresse. Du må velge et passord som du bruker sammen med e-postadressen til å logge inn." %}
  </p>

  {% for message in messages %}
    {% if message.message == 'invalid_name' %}
      <div class="alert alert-error">
        <strong>{% trans "Du har ikke oppgitt fullt navn!" %}</strong><br>
        {% trans "Vennligst oppgi navnet ditt, både fornavn og etternavn." %}
      </div>
    {% elif message.message == 'invalid_email' %}
      <div class="alert alert-error">
        <strong>{% trans "E-postadressen din er ikke gyldig!" %}</strong><br>
        {% trans "Vennligst oppgi en gyldig e-postadresse." %}
      </div>
    {% elif message.message == 'email_exists' %}
      <div class="alert alert-error">
        <strong>{% trans "E-postadressen din er allerede i bruk!" %}</strong><br>
        {% trans "Hvis du allerede har en bruker, men har glemt passordet ditt, kan du opprette nytt passord på" %} <a href="{% url 'user.login.views.login' %}">{% trans "innloggingssiden" %}</a>.
      </div>
    {% elif message.message == 'too_short_password' %}
      <div class="alert alert-error">
        <strong>{% trans "For kort passord" %}</strong><br>
        {% blocktrans %}Du må ha minst {{ user_password_length }} tegn i passordet ditt. Vennligst velg et lengre passord.{% endblocktrans %}
      </div>
    {% endif %}
  {% endfor %}

  <div class="form-elements">

    <div class="control-group name">
      <label class="control-label" for="name">{% trans "Fullt navn:" %}</label>
      <div class="controls">
        <input type="text" class="input-xlarge" name="name" id="name" value="{{ user_data.name }}">
      </div>
    </div>
    <div class="control-group email">
      <label class="control-label" for="email">{% trans "E-postadresse:" %}</label>
      <div class="controls">
        <input type="text" class="input-xlarge" name="email" id="email" value="{{ user_data.email }}">
      </div>
    </div>
    <div class="control-group password">
      <label class="control-label" for="password">{% trans "Passord:" %}</label>
      <div class="controls">
        <input type="password" class="input-xlarge" name="password" id="password">
        <div class="hints error password-hint short hide">
          {% blocktrans %}Passordet er for kort, det må være minst {{ user_password_length }} tegn.{% endblocktrans %}
        </div>
      </div>
    </div>
    <div class="control-group password-repeat">
      <label class="control-label" for="password-repeat">{% trans "Gjenta passord:" %}</label>
      <div class="controls">
        <input type="password" class="input-xlarge" name="password-repeat" id="password-repeat">
        <div class="hints error password-hint unequal hide">
          {% trans "Passordene er ikke like, har du skrevet feil?" %}
        </div>
      </div>
    </div>

    <div class="control-group">
      <div class="controls">
        <button type="submit" class="btn btn-large btn-danger"><i class="icon-ok icon-white"></i> {% trans "Registrer deg" %}</button>
      </div>
    </div>
  </div>

</form>
