{% extends 'common/admin/layout.html' %}

{% block title %}Kampanjer — {{ block.super }}{% endblock %}

{% block admin_menu %}{% with 'sites' as active_entry %}{{ block.super }}{% endwith %}{% endblock %}

{% block extra_js %}
  <script src="{{ STATIC_URL }}lib/jcrop/js/jquery.Jcrop.min.js"></script>
  <script src="{{ STATIC_URL }}js/admin/images/util/image-archive-picker.js"></script>
  <script src="{{ STATIC_URL }}js/admin/images/util/image-upload-dialog.js"></script>
  <script src="{{ STATIC_URL }}js/admin/sites/campaigns/new.js"></script>
{% endblock %}

{% block extra_css %}
  <link rel="stylesheet" href="{{ STATIC_URL }}lib/jcrop/css/jquery.Jcrop.min.css" media="screen">
{% endblock %}

{% block body %}

<div class="new-campaign">

  <div class="row">
    <div class="col-lg-12">
      <h1>Ny kampanje <small>sett opp en ny kampanje</small></h1>
      <ol class="breadcrumb">
        <li class="active"><i class="fa fa-dashboard"></i> <a href="{% url 'admin.views.index' %}">Sherpa</a></li>
        <li><a href="{% url 'admin.sites.views.index' active_site.id %}">Nettsteder</a></li>
        <li><a href="{% url 'admin.sites.views.index' active_site.id %}">{{ active_site.domain }}</a></li>
        <li><a href="{% url 'admin.sites.campaigns.views.index' active_site.id %}">Kampanjer</a></li>
        <li><a href="{% url 'admin.sites.campaigns.views.new' active_site.id %}">Ny kampanje</a></li>
      </ol>
    </div>
  </div><!-- /.row -->

  <div class="row">
    <div class="col-lg-12">

      <ol class="section-progress" data-choose-image-warning="Velg bakgrunnsbilde før du går videre!">
        <li class="active">
          <a href="javascript:undefined" data-step="1">Velg bakgrunnsbilde</a>
          <span class="divider">
            <i class="fa fa-angle-right"></i>
          </span>
        </li>
        <li>
          <a href="javascript:undefined" data-step="2">Velg utsnitt på bildet</a>
          <span class="divider">
            <i class="fa fa-angle-right"></i>
          </span>
        </li>
        <li>
          <a href="javascript:undefined" data-step="3">Sett inn tekst/knapp</a>
        </li>
      </ol>

      <hr>
    </div>
  </div>

  <div class="step" data-step="1">
    <div class="row">
      <div class="col-lg-12">
        <p>
          Du kan hente et som allerede finnes i bildearkivet eller laste opp et fra din PC. Bildet bør være ganske stort, helst mer enn 940x480 piksler.
        </p>

        <button class="btn btn-default pick-from-image-archive"><i class="fa fa-picture-o"></i> Hent et bilde fra bildearkivet</button>
        <button class="btn btn-default upload-new-image"><i class="fa fa-upload"></i> Last opp et bilde fra din PC</button>

      </div>
    </div>
  </div>

  <div class="step jq-hide" data-step="2">
    <div class="row">
      <div class="col-lg-12">

        <p>
          Velg et utsnitt i bildet under og klikk på knappen når du er fornøyd:
          <button class="btn btn-default accept-crop"><i class="fa fa-check"></i> Ok, dette utsnittet er fint!</button>
        </p>

        <img src="" alt="" class="chosen-image">
        <img class="chosen-image-ajaxloader jq-hide" src="{{ STATIC_URL }}img/ajax-loader-large.gif" alt="Laster, vennligst vent...">

      </div>
    </div>
  </div>

  <div class="step jq-hide" data-step="3">
    <div class="row">
      <div class="col-lg-12">

        <div class="cropped-image-container">
          <img src="" alt="" class="cropped-image">
        </div>

        <div class="text-areas">
          {# Will be filled out with jquery #}
        </div>

      </div>
    </div>
  </div>

  <div class="text-template jq-hide"></div>

  <div class="text-area-template jq-hide">
    <input type="text" class="form-control" value="Tittel">
    <select name="font-sizes">
      {% for font_size in font_sizes %}
        <option value="{{ font_size }}">{{ font_size }}px</option>
      {% endfor %}
    </select>
    <div class="colorpicker">
      TBD
    </div>
    <button class="btn btn-danger remove">
      <i class="fa fa-times"></i> Fjern
    </button>
  </div>
</div>

{% include 'common/admin/images/util/image-archive-picker.html' %}
{% include 'common/admin/images/util/image-upload-dialog.html' %}

{% endblock %}
