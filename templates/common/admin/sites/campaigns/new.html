{% extends 'common/admin/layout.html' %}

{% block title %}Kampanjer — {{ block.super }}{% endblock %}

{% block admin_menu %}{% with 'sites' as active_entry %}{{ block.super }}{% endwith %}{% endblock %}

{% block extra_js %}
  <script src="{{ STATIC_URL }}lib/jcrop/js/jquery.Jcrop.min.js"></script>
  <script src="{{ STATIC_URL }}js/admin/images/util/image-archive-picker.js"></script>
  <script src="{{ STATIC_URL }}js/admin/images/util/image-upload-dialog.js"></script>
  <script src="{{ STATIC_URL }}js/admin/sites/campaigns/new.js"></script>
{% endblock %}

{% block extra_css %}
  <link rel="stylesheet" href="{{ STATIC_URL }}lib/jcrop/css/jquery.Jcrop.min.css" media="screen">
{% endblock %}

{% block body %}

<div class="new-campaign">

  <div class="row">
    <div class="col-lg-12">
      <h1>Ny kampanje <small>sett opp en ny kampanje</small></h1>
      <ol class="breadcrumb">
        <li class="active"><i class="fa fa-dashboard"></i> <a href="{% url 'admin.views.index' %}">Sherpa</a></li>
        <li><a href="{% url 'admin.sites.views.index' active_site.id %}">Nettsteder</a></li>
        <li><a href="{% url 'admin.sites.views.index' active_site.id %}">{{ active_site.domain }}</a></li>
        <li><a href="{% url 'admin.sites.campaigns.views.index' active_site.id %}">Kampanjer</a></li>
        <li><a href="{% url 'admin.sites.campaigns.views.new' active_site.id %}">Ny kampanje</a></li>
      </ol>
    </div>
  </div><!-- /.row -->

  <div class="row">
    <div class="col-lg-12">

      <ol class="section-progress" data-choose-image-warning="Velg bakgrunnsbilde før du går videre!">
        <li class="active">
          <a href="javascript:undefined" data-step="1">Velg bakgrunnsbilde</a>
          <span class="divider">
            <i class="fa fa-angle-right"></i>
          </span>
        </li>
        <li>
          <a href="javascript:undefined" data-step="2">Velg utsnitt på bildet</a>
          <span class="divider">
            <i class="fa fa-angle-right"></i>
          </span>
        </li>
        <li>
          <a href="javascript:undefined" data-step="3">Sett inn tekst/knapp</a>
        </li>
      </ol>

      <hr>
    </div>
  </div>

  <div class="step" data-step="1">
    <div class="row">
      <div class="col-lg-12">
        <p>
          Du kan hente et som allerede finnes i bildearkivet eller laste opp et fra din PC. Bildet bør være ganske stort, helst mer enn 940x480 piksler.
        </p>

        <button class="btn btn-default pick-from-image-archive"><i class="fa fa-picture-o"></i> Hent et bilde fra bildearkivet</button>
        <button class="btn btn-default upload-new-image"><i class="fa fa-upload"></i> Last opp et bilde fra din PC</button>

      </div>
    </div>
  </div>

  <div class="step jq-hide" data-step="2">
    <div class="row">
      <div class="col-lg-12">

        <p>
          Velg et utsnitt i bildet under og klikk på knappen når du er fornøyd:
          <button class="btn btn-default accept-crop"><i class="fa fa-check"></i> Ok, dette utsnittet er fint!</button>
        </p>

        <img src="" alt="" class="chosen-image">
        <img class="chosen-image-ajaxloader jq-hide" src="{{ STATIC_URL }}img/ajax-loader-large.gif" alt="Laster, vennligst vent...">

      </div>
    </div>
  </div>

  <div class="step jq-hide" data-step="3">
    <div class="row">
      <div class="col-lg-12">

        <p>
          Her kan du sette inn tekst og knapp. Skriv inn teksten i firkanten under bildet, og så kan du dra teksten på bildet for å plassere den der du vil.
        </p>

        <div class="cropped-image-container">
          <img src="" alt="" class="cropped-image">
        </div>

        <div class="text-areas">
          {# Will be filled out with jquery #}
        </div>

        <div class="form-default form-border form-horizontal" data-wrapper="campaign-button">

          <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
              <div class="checkbox">
                <label>
                   <input type="checkbox" name="include-button"> Inkludér knapp
                 </label>
              </div>
            </div>
          </div>

          <div class="form-group">
            <label class="col-md-2 control-label">Tekst</label>
            <div class="col-md-10">
              <input type="text" name="button-label" class="form-control" value="Klikk på meg" disabled>
            </div>
          </div>

          <div class="form-group">
            <label class="col-md-2 control-label">Lenker til</label>
            <div class="col-md-10">
              <input type="text" name="button-anchor" class="form-control" value="http://www.turistforeningen.no/" disabled>
            </div>
          </div>

        </div><!-- /.form-default -->

        <p>
          <button class="btn btn-default add-text-area"><i class="fa fa-text-width"></i> Legg til en ny linje med tekst</button>
        </p>

      </div>
    </div>
  </div>

  <div class="text-template jq-hide"></div>

  <div class="text-area-template jq-hide">

    <div class="form-default form-border form-horizontal">

      <div class="form-group">
        <label class="col-md-2 control-label">Tekst</label>
        <div class="col-md-10">
          <input type="text" name="content" class="form-control" value="Tittel">
          <button class="btn btn-danger remove">
            <i class="fa fa-times"></i> Fjern
          </button>
        </div>
      </div>

      <div class="form-group">
        <label class="col-md-2 control-label">Skrift</label>
        <div class="col-md-10">
          <select name="font-sizes">
            {% for font_size in font_sizes %}
              <option value="{{ font_size }}px"{% if font_size == 48 %} selected{% endif %}>{{ font_size }}px</option>
            {% endfor %}
          </select>
          <div class="checkbox">
            <label>
               <input type="checkbox" name="bold"> Fet tekst
             </label>
          </div>
        </div>
      </div>

      <div class="form-group">
        <label class="col-md-2 control-label">Farge</label>
        <div class="col-md-10">
          <div class="colorselector">
            <div style="background-color: #333"></div>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>

{% include 'common/admin/images/util/image-archive-picker.html' %}
{% include 'common/admin/images/util/image-upload-dialog.html' %}

{% endblock %}
