<link rel="import" href="../../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../../bower_components/core-label/core-label.html">
<link rel="import" href="../../../../bower_components/paper-checkbox/paper-checkbox.html">

<link rel="import" href="../dnt-style-buttons/dnt-style-buttons.html">

<polymer-element name="dnt-aktivitet-signup-step-summary" attributes="aktivitet signup state participant">
  <template>
    <core-style ref="dnt-style-buttons"></core-style>
    <link rel="stylesheet" href="dnt-aktivitet-signup-step-summary.css">
    <h2>Oppsummering</h2>

    <section class="intro">
      <p>Se over deltakerdetaljene nedenfor og at opplysningene er riktige før du går videre med påmeldingen.</p>
      <p>Hvis du ønsker å gjøre endringer kan du trykke på knappen <strong>endre detaljer</strong>.</p>
    </section>

    <section class="participants">
      <div class="participant">
        <core-toolbar>
          <core-icon icon="account-circle"></core-icon>
          <span flex>{{participant.name}}</span>
          <paper-button
            on-click="{{editParticipantDetails}}"
            data-participant="{{participant}}">
            <core-icon icon="create"></core-icon>
            Endre detaljer
          </paper-button>
        </core-toolbar>
        <div class="participant-content">
          <div vertical layout>
            <template if="{{participant.date_of_birth}}">
              <div>Fødselsdato: {{participant.date_of_birth}}</div>
            </template>
            <template if="{{participant.phone}}">
              <div>Telefon: {{participant.phone}}</div>
            </template>
            <template if="{{participant.email}}">
              <div>Epost: {{participant.email}}</div>
            </template>
          </div>
          <template if="{{participant.is_minor}}">
            <h3>Foresatte</h3>
            <template repeat="{{parent_guardian in participant.parents_guardians}}">
              <div class="parent-guardian">
                <template if="{{parent_guardian.name}}">
                  <div>Navn: {{parent_guardian.name}}</div>
                </template>
                <template if="{{parent_guardian.email}}">
                  <div>Epost: {{parent_guardian.email}}</div>
                </template>
                <template if="{{parent_guardian.phone}}">
                  <div>Telefon: {{parent_guardian.phone}}</div>
                </template>
                <template if="{{parent_guardian.address && parent_guardian.zipcode && parent_guardian.city}}">
                  <div>Adresse: {{parent_guardian.address}}, {{parent_guardian.zipcode}} {{parent_guardian.city}}</div>
                </template>
              </div>
            </template>
          </template>
          <template if="{{participant.comment}}">
            <div>Kommentar: {{participant.comment}}</div>
          </template>
        </div>
      </div>
    </section>

    <section class="options">
      <div class="terms-and-conditions" horizontal layout>
        <paper-checkbox
          for=""
          role="checkbox"
          tabindex="0"
          aria-checked="false"
          aria-labelledby="core-label-terms-and-conditions">
        </paper-checkbox>
        <div vertical layout>
          <core-label id="core-label-terms-and-conditions">
            <strong>Vilkår</strong>
          </core-label>
          <div>Ved påmelding godtar jeg vilkårene for påmelding og deltakelse på DNT sine arrangementer. <a href="">Les vilkår</a>.</div>
        </div>
      </div>
    </section>

    <div horizontal end-justified layout>
      <paper-button id="next-step" on-click="{{editParticipantDetails}}">
        <core-icon icon="arrow-back"></core-icon>
        Tilbake
      </paper-button>
      <paper-button primary id="next-step" on-click="{{confirmSignup}}" data-to-step="receipt">
        <core-icon icon="check"></core-icon>
        Bekreft påmelding
      </paper-button>
    </div>

  </template>
  <script src="dnt-aktivitet-signup-step-summary.js"></script>
</polymer-element>
