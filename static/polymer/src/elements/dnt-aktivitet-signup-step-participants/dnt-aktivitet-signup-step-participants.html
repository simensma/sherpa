<link rel="import" href="../../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../../../bower_components/paper-button/paper-button.html">

<link rel="import" href="../dnt-aktivitet-signup-participant/dnt-aktivitet-signup-participant.html">
<link rel="import" href="../dnt-style-buttons/dnt-style-buttons.html">

<polymer-element name="dnt-aktivitet-signup-step-participants" attributes="aktivitet signup state user participant step steps comment">
  <template>
    <core-style ref="dnt-style-buttons"></core-style>
    <link rel="stylesheet" href="dnt-aktivitet-signup-step-participants.css">
    <h2>Deltaker</h2>
    <p>Kontroller at informasjonen om deltakeren i skjemaet nedenfor stemmer.</p>
    <dnt-aktivitet-signup-participant
      id="participant"
      aktivitet="{{aktivitet}}"
      user="{{user}}"
      participant="{{participant}}"
      is_valid="is_valid">
    </dnt-aktivitet-signup-participant>

    <section class="comment">
      <div horizontal layout>
        <paper-input-decorator
          id="comment_input_decorator"
          label="Kommentar"
          floatinglabel flex one>
          <paper-autogrow-textarea id="comment_input">
            <textarea id="comment_input">{{participant.comment}}</textarea>
          </paper-autogrow-textarea>
        </paper-input-decorator>
      </div>
      <p class="help-block">F.eks. om allergier eller annet.</p>
    </section>

    <template if="{{!is_valid}}">
      <section class="alerts">
        <dnt-alert info>Du kan ikke gå videre til neste steg før de påkrevde feltene er riktig fylt ut.</dnt-alert>
      </section>
    </template>

    <div horizontal end-justified layout>
      <paper-button id="next-step" on-click="{{goToPrevStep}}">
        <core-icon icon="arrow-back"></core-icon>
        Tilbake
      </paper-button>
      <paper-button
        primary id="next-step"
        on-click="{{goToNextStep}}"
        disabled?="{{!is_valid}}">
        <core-icon icon="arrow-forward"></core-icon>
        Gå videre
      </paper-button>
    </div>
  </template>
  <script src="dnt-aktivitet-signup-step-participants.js"></script>
</polymer-element>
